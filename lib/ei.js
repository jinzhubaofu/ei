/*! 2016 Baidu Inc. All Rights Reserved */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ei=e(require("react")):t.ei=e(t.React)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(26)},function(e,n){e.exports=t},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[t,e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(n,s){r=[t],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){function e(t,e,n,o,r,i,s,u){if(!t){if(!e)throw new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");var a=[n,o,r,i,s,u],p=0,c="Invariant Violation: "+e.replace(/%s/g,function(){return a[p++]});throw new Error(c)}}t.exports=e})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(7)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(7)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e){var n={};t.exports=e.enable(n)})})},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[t,e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,s){r=[t],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){var e="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":n(t)},o=Object.prototype.hasOwnProperty;t.exports=Object.assign||function(t){if(null==t)throw new Error("assign target cannot be null");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var s=0,u=r.length;s<u;++s){var a=r[s];if("object"===("undefined"==typeof a?"undefined":e(a)))for(var p in a)o.call(a,p)&&(t[p]=a[p])}return t}})})},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[t,e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(n,s){r=[t],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){t.exports=function(){return Math.random().toString(36).substr(2,12)}})})},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[t,e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(n,s){r=[t],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){function e(){this.boundCallbacks={},this.singletonCallbacks={},this.instantiatedSingletons={},this.registeredObjects={}}e.prototype.make=function(t){if(this.registeredObjects[t])return this.registeredObjects[t];if(this.singletonCallbacks[t]){var e=this.instantiatedSingletons,n=e[t];return n||(n=e[t]=this.singletonCallbacks[t].apply(this,arguments)),n}var o=this.boundCallbacks[t];return o?o.apply(this,arguments):null},e.prototype.bind=function(t,e){return this.boundCallbacks[t]=e,this},e.prototype.singleton=function(t,e){return this.singletonCallbacks[t]=e,this},e.prototype.register=function(t,e){return this.registeredObjects[t]=e,this},t.exports=e})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(4)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(4)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e){function n(){}var o="__listeners__",r="__event__",i={on:function(t,e){var n=this[o];n||(n=this[o]={});var r=n[t];return r||(r=n[t]=[]),r.push(e),this},off:function(t,e){var n=this[o];if(!n)return this;if(!t)return this.destroyEvents();var r=n[t];if(!r||!r.length)return this;if(!e)return r.length=0,n[t]=[],this;for(var i=r.length-1;i>=0;--i)if(r[i]===e)return r.splice(i,1),this;return this},once:function(t,e){function n(){o.off(t,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return e.apply(o,i)}var o=this;return o.on(t,n),this},emit:function(t){var e=this[o];if(!e)return this;var n=[].concat(e[t]||[],e["*"]||[]);if(!n.length)return this;this[r]=t;for(var i=arguments.length,s=Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=arguments[u];for(var a=0,p=n.length;a<p;++a)n[a].apply(this,s);return this[r]=null,this},getCurrentEvent:function(){return this[r]},destroyEvents:function(){var t=this[o];if(t){for(var e in t)t[e]&&(t[e].length=0,t[e]=null);this[o]=null}return this}};e(n.prototype,i),n.enable=function(t){return"function"==typeof t&&(t=t.prototype),e(t,i)},t.exports=n})})},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(e){"use strict";!function(n,s){r=[e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){var e="INIT";t.INIT=e,t.init=function(t){return{type:e,payload:t}}})})},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[t,e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(n,s){r=[t],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){function e(t){if("function"==typeof t)return t;for(var e=arguments.length,o=Array(e>1?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];var i=o.reduce(function(t,e){return n({},t,i)},t);return function(t,e){var o=n({},t),r=!1;for(var s in i)if(i.hasOwnProperty(s)){var u=t[s],a=o[s]=i[s](u,e);a!==u&&(r=!0)}return r?o:t}}var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};t.exports=e})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(2),n(3),n(13),n(17),n(4),n(24)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(2),n(3),n(13),n(17),n(4),n(24)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e,o,r,i,s,u){function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(t,"App need options"),e(t.routes||t.router,"App need routes/router"),s(this,t),this.router=this.router||new r(this.routes)}a.prototype.execute=function(t,n){e(i.isServer,"App.execute() must run on server"),o.emit("app-request");var r=this.route(t);return r?this.loadPage(r.page).then(function(e){var i=new e;return Promise.resolve(i.getInitialState(t)).then(function(t){return n?(o.emit("app-response-in-json"),{state:t,route:r}):(o.emit("app-response-in-html"),i.init(t),o.emit("app-page-bootstrap"),o.emit("app-page-entered"),{page:i,route:r})})}).catch(function(t){throw o.emit("app-execute-error",t),t}):Promise.reject({status:404})},a.prototype.setBasePath=function(t){return this.basePath=t,this},a.prototype.loadPage=function(t){var e=this;if("function"==typeof t)return Promise.resolve(t);var n=this.pool;if(n&&n[t])return o.emit("app-page-loaded"),Promise.resolve(n[t]);var r=i.isServer?"resolveServerModule":"resolveClientModule";return this[r](t).then(function(t){return e.resolvePage(t)})},a.prototype.resolvePage=function(t){return"function"==typeof t?t:t.default},a.prototype.resolveServerModule=function(t){var r=this;o.emit("app-load-page-on-server",t);var i=this.basePath;e(i,"ei need a basePath to resolve your page");var s=i+"/"+t;return new Promise(function(e,o){try{var i=n(28)(s),u=r.pool;u||(u=r.pool={}),u[t]=i,e(i)}catch(t){o(t)}})},a.prototype.resolveClientModule=function(t){return o.emit("app-load-page-on-client"),t?new Promise(function(e,n){window.require([t],function(t){e(t)})}):Promise.reject(new Error("need page module id"))},a.prototype.route=function(t){o.emit("app-route");var e=this.router.route(t);return e?o.emit("app-route-succeed"):o.emit("app-route-failed",t),e},a.Component=u(a),t.exports=a})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(22),n(2)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(22),n(2)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e,n){function o(t,o,r){n("function"==typeof o,"Context need a reducer"),this.reducer=o,this.store=null==t?{}:t,this.dispatch=e(this,r),this.getState=this.getState.bind(this),this.listeners=[]}o.prototype.reduce=function(t,e){return this.reducer(t,e)},o.prototype.getState=function(){return this.store},o.prototype.setState=function(t){return this.store=t,this},o.prototype.dispatch=function(t){if("function"==typeof t)return t(this.dispatch,this.getState);var e=this.reduce(this.store,t);this.setState(e);for(var n=this.listeners.slice(),o=0,r=n.length;o<r;++o){var i=n[o];this.listeners.indexOf(i)!==-1&&i()}return t},o.prototype.addChangeListener=function(t){return this.listeners.push(t),this},o.prototype.removeChangeListener=function(t){for(var e=this.listeners,n=e.length-1;n>=0;--n)if(e[n]===t)return e.splice(n,1),this;return this},t.exports=o})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(4),n(1),n(15),n(11),n(9),n(2),n(5),n(3),n(8),n(7),n(16),n(18),n(25)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(4),n(1),n(15),n(11),n(9),n(2),n(5),n(3),n(8),n(7),n(16),n(18),n(25)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e,n,o,r,i,s,u,a,p,c,f,l,d){function h(t){this.initialize(t)}var y=p.init;h.prototype={constructor:h,initialize:function(t){var e=this;this.id=u(),this.context=new r(t,i(this.reducer),this.middlewares.map(function(t){return t(e)}))},middlewares:[l],init:function(t){return this.dispatch(y(t)),this},createElement:function(t){var e=this.context,r=this.view;return n.createElement(o,{ei:e},n.createElement(r,t))},getState:function(){return this.context.getState()},setState:function(t){return this.context.setState(t),this},dispatch:function(t){return a.emit("page-dispatch",t),this.emit("dispatch",t),this.context.dispatch(t),t},getInitialState:function(t){return{}},dispose:function(){return a.emit("page-dispose"),this.emit("dispose"),this}},c.enable(h),h.extend=function(t){function n(t){h.call(this,t)}return s(t,"create Page need options"),s(t.reducer,"Pager must have a reducer"),s(t.view,"Pager must have a view"),n.Component=d(n),e(n.prototype,h.prototype,t),n},h.Component=f,t.exports=h})})},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[t,e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(n,s){r=[t],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){function e(t){this.routes=t||[]}e.prototype.route=function(t){for(var e=this.routes.length-1;e>=0;e--){var n=this.routes[e];if(n.path===t.pathname)return n}},e.prototype.addRoute=function(t){return this.routes.push(t),this},t.exports=e})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(1),n(20),n(21)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(1),n(20),n(21)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e,n,o){var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i=e.createClass({displayName:"ContextConnector",getInitialState:function(){var t=this.props,e=this.context,r=t.selector,i=t.actions;return this.select=o(r),this.actions=n(e.store.dispatch,i),{data:this.getDataFromContext(e)}},getDataFromContext:function(t){return this.select(t.store.store,this.props.originProps)},componentDidMount:function(){this.context.store.addChangeListener(this.onStoreChange)},componentWillUnmount:function(){this.context.store.removeChangeListener(this.onStoreChange)},shouldComponentUpdate:function(t,e){return this.state.data!==e},onStoreChange:function(){this.setState({data:this.getDataFromContext(this.context)})},render:function(){var t=this.props,n=t.originComponent,o=t.originProps;return e.createElement(n,r({},o,this.actions,this.state.data))}}),s=e.PropTypes;i.contextTypes={store:s.object.isRequired},i.propTypes={actions:s.object,originComponent:s.func.isRequired,originProps:s.object.isRequired},t.exports=i})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(1)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(1)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e){var n=e.createClass({displayName:"ContextProvider",getChildContext:function(){return{store:this.props.store}},render:function(){return this.props.children}}),o=e.PropTypes;n.childContextTypes={store:o.object.isRequired},n.propTypes={store:e.PropTypes.object.isRequired},t.exports=n})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(1),n(5)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(1),n(5)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e,n){function o(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i="ASYNC_PAGE_LOAD_ATTR",s=e.createClass({displayName:"Page",getInitialState:function(){return{pendding:!1,ready:!1,error:null}},componentDidMount:function(){var t=this.props,e=t.initialState,n=t.request;this.renderPage(n,e)},componentWillReceiveProps:function(t){var e=this.props.request||{},n=e.pathname,o=e.search,r=t.request;e===r||n===r.pathname&&o===r.search||this.renderPage(r,null)},renderPage:function(t,e){var o=this,r=this.context.route(t);if(!r)return void this.setState({ready:!1,error:{status:404,message:"啊哦，这个页面迷失在了茫茫宇宙中。。。"},pendding:!1,Page:null});this.setState({pendding:!0,error:null,ready:!1});var s=this[i]=n();this.context.loadPage(r.page).then(function(t){s===o[i]&&o.setState({Page:t,error:null,pendding:!1,ready:!0})}).catch(function(t){s===o[i]&&o.setState({error:t,ready:!1,pendding:!1,Page:null})})},onRedirect:function t(e){var t=this.props.onRedirect;return t?void t(e):void this.renderPage(e.payload.location)},render:function(){var t=this.props,n=t.request,i=t.renderLoadingMessage,s=t.renderErrorMessage,u=o(t,["request","renderLoadingMessage","renderErrorMessage"]),a=this.state,p=a.ready,c=a.pendding,f=a.Page,l=a.error,d="blank",h=null;if(null!=n)if(l)h=s(l),d="error";else if(c)h=i(),d="pendding";else if(p)try{h=e.createElement(f.Component,r({},u,{renderLoadingMessage:i,renderErrorMessage:s,onRedirect:this.onRedirect,request:n})),d="ready"}catch(t){h=s(t),d="error"}return e.createElement("div",{className:"ui-page state-"+d},h)}}),u=e.PropTypes;s.contextTypes={route:u.func,loadPage:u.func},s.propTypes={request:u.shape({pathname:u.string.isRequired,query:u.object,search:u.string}),initialState:u.any,renderLoadingMessage:u.func,renderErrorMessage:u.func},s.defaultProps={renderErrorMessage:function(t){return e.createElement("span",null,t.message)},renderLoadingMessage:function(){return e.createElement("span",null,"loading...")}},t.exports=s})})},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(e){"use strict";!function(n,s){r=[e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){var e=!1;try{e="undefined"==typeof window}catch(t){}t.isServer=e,t.isClient=!t.isServer})})},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[t,e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(n,s){r=[t],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){t.exports=function(t){return function(e,n,o){if("function"!=typeof n){var r=n.event,i=n.type;t.emit(r||i,n)}return o(n)}}})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[e,n(6)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(e){"use strict";!function(s,u){r=[e,n(6)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e){var n=new e;t.register=function(t,e){return n.register(t,e),this},t.get=function(t){return n.make(t)}})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(2)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(2)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e){function n(t){function n(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var u=o[n].apply(o,i);return e(u,"action creator must return a object/funciton"),t(u)}var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e("function"==typeof t,"need dispatch"),Object.keys(o).reduce(function(t,e){return t[e]=n.bind(null,e),t},{})}t.exports=n})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(2)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(2)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e){function n(t){return function(n,r){switch(e(n,"need store"),o.call(t).slice(8,-1).toLowerCase()){case"function":return t(n,r);case"object":return Object.keys(t).reduce(function(e,o){var i=t[o];return"function"==typeof i&&(e[o]=i(n[o],r)),e},{});case"number":case"string":return n[t];case"boolean":return t?n:{};default:return{}}}}var o=Object.prototype.toString;t.exports=n})})},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[t,e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(n,s){r=[t],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){function e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduceRight(function(e,n,o){return function(o){return n(t.getState(),o,e)}},t.dispatch.bind(t))}t.exports=e})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(1),n(14)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(1),n(14)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e,n){function o(t,o,r){return function(i){return e.createElement(n,{selector:o,actions:r,originComponent:t,originProps:i})}}t.exports=o})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(1)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(1)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e){function n(t){var n=e.createClass({displayName:"AppComponent",getInitialState:function(){var e=this.props,n=e.routes,o=e.router,r=e.app;return this.app=r||new t({routes:n,router:o}),{}},getChildContext:function(){var t=this.app;return{route:function(e){return t.route(e)},loadPage:function(e){return t.loadPage(e)}}},render:function(){return this.props.children}});return n.propTypes={routes:o.arrayOf(o.shape({path:o.string.isRequired,page:o.oneOfType([o.string,o.func]).isRequired})),app:o.instanceOf(t),router:o.object},n.childContextTypes={route:o.func,loadPage:o.func},n}var o=e.PropTypes;t.exports=n})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(1),n(5)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(1),n(5)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e,n){function o(t){function o(t){var e={};for(var n in t)!s.call(t,n)||n in u.propTypes||(e[n]=t[n]);return e}var u=e.createClass({displayName:"PageComponent",getInitialState:function(){var e=this,n=e.props,o=n.initialState,r=e.page=new t(o);return r.on("*",function(){var t=r.getCurrentEvent().split(/[\-_]/).map(function(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}).join(""),o=n["on"+t];if("function"==typeof o){for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];o.apply(e,s)}}),{stage:null==o?"INITED":"LOADED",error:null}},componentDidMount:function(){var t=this.handleRequest,e=this.page,n=this.props,o=this.state.stage;"LOADED"!==o&&t(e,n.request)},componentWillReceiveProps:function(t){var e=this.props.request,n=t.request;e!==n&&this.handleRequest(this.page,n)},componentWillUnmount:function(){var t=this.page;t&&t.dispose(),this.page=null},handleRequest:function(t,e){var o=this,r=this[i]=n();this.setState({stage:"LOADING",error:null}),Promise.resolve(t.getInitialState(e)).then(function(e){t.init(e),r===o[i]&&o.setState({stage:"LOADED"})},function(t){r===o[i]&&o.setState({error:t,stage:"LOADED"})})},render:function(){var t=this.page,e=this.props,n=this.state,r=n.error,i=n.stage,s=e.renderLoadingMessage,u=e.renderErrorMessage;return r?u(r):"LOADED"===i?t.createElement(o(e)):s()}});return u.propTypes={initialState:r.object,request:r.object,renderLoadingMessage:r.func,renderErrorMessage:r.func},u.defaultProps={initialState:null,request:{},renderLoadingMessage:function(){return e.createElement("div",null,"loading...")},renderErrorMessage:function(t){return e.createElement("div",null,t.message)}},u}var r=e.PropTypes,i="PAGE_GET_INITIAL_STATE_GUID_ATTR",s=Object.prototype.hasOwnProperty;t.exports=o})})},function(t,e,n){var o,r,i,o,r,i;!function(s,u){r=[t,e,n(10),n(12),n(6),n(3),n(19),n(9),n(23),n(8)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";!function(s,u){r=[t,n(10),n(12),n(6),n(3),n(19),n(9),n(23),n(8)],o=u,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t,e,n,o,r,i,s,u,a){t.exports={App:e,Page:n,Container:o,events:r,resource:i,composeReducer:s,connect:u,INIT:a.INIT}})})},function(t,e,n){var o,r,i,o,r,i;!function(n,s){r=[e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(this,function(e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,s){r=[e],o=s,i="function"==typeof o?o.apply(e,r):o,!(void 0!==i&&(t.exports=i))}(void 0,function(t){var e=t;e.typeof="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return"undefined"==typeof t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":"undefined"==typeof t?"undefined":n(t)},e.extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},e.objectWithoutProperties=function(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}})})},function(t,e,n){function o(t){return n(r(t))}function r(t){return i[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var i={"./App":10,"./App.js":10,"./Container":6,"./Container.js":6,"./Context":11,"./Context.js":11,"./Emitter":7,"./Emitter.js":7,"./Page":12,"./Page.js":12,"./Router":13,"./Router.js":13,"./actionCreator/page":8,"./actionCreator/page.js":8,"./babelHelpers":27,"./babelHelpers.js":27,"./component/ContextConnector":14,"./component/ContextConnector.js":14,"./component/ContextProvider":15,"./component/ContextProvider.js":15,"./component/Page":16,"./component/Page.js":16,"./env":17,"./env.js":17,"./events":3,"./events.js":3,"./index":26,"./index.js":26,"./middleware/pageActionEventProxy":18,"./middleware/pageActionEventProxy.js":18,"./resource":19,"./resource.js":19,"./util/assign":4,"./util/assign.js":4,"./util/bindActions":20,"./util/bindActions.js":20,"./util/bindSelectors":21,"./util/bindSelectors.js":21,"./util/composeMiddleware":22,"./util/composeMiddleware.js":22,"./util/composeReducer":9,"./util/composeReducer.js":9,"./util/connect":23,"./util/connect.js":23,"./util/createAppComponent":24,"./util/createAppComponent.js":24,"./util/createPageComponent":25,"./util/createPageComponent.js":25,"./util/guid":5,"./util/guid.js":5,"./util/invariant":2,"./util/invariant.js":2};o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=28}])});